@using FlexBackend.SUP.Rcl.Areas.SUP.ViewModels

@* _StockBatchEditPartial.cshtml 唯讀欄位 *@

@model FlexBackend.SUP.Rcl.Areas.SUP.Controllers.StockBatchEditDto

<form id="stockEditForm">
    <input type="hidden" name="SkuId" class="stock-edit-skuId" value="" />
    <input type="hidden" name="StockBatchId" class="stock-edit-stockBatchId" value="" />

    <div class="mb-2">
        <label>品牌</label>
        <input type="text" class="form-control stock-edit-brandName" value="@Model.BrandName" readonly />
    </div>

    <div class="mb-2">
        <label>商品名稱</label>
        <input type="text" class="form-control stock-edit-productName" value="@Model.ProductName" readonly />
    </div>

    <div class="mb-2">
        <label>SKU</label>
        <input type="text" class="form-control stock-edit-skuCode" value="@Model.SkuCode" readonly />
    </div>

    <div class="mb-2">
        <label>製造日期</label>
        <input type="text" class="form-control stock-edit-manufactureDate"
               value="@Model.ManufactureDate?.ToString("yyyy-MM-dd")"
               readonly
               style="pointer-events:none;" />
    </div>

    <div class="mb-2">
        <label>批次現有庫存</label>
        <input type="number" class="form-control stock-edit-currentQty" value="@Model.CurrentQty" readonly />
    </div>

    <div class="mb-2 stock-edit-adjustOptions d-flex align-items-center">
        <label class="me-3 mb-0">異動方式：手動調整</label>
        <div class="form-check form-check-inline mb-0">
            <input class="form-check-input stock-edit-isAdd" type="radio" name="stockEditIsAdd" id="IncreaseEdit" value="true" @(Model.IsAdd ? "checked" : "")>
            <label class="form-check-label" for="IncreaseEdit">增加</label>
        </div>
        <div class="form-check form-check-inline mb-0">
            <input class="form-check-input stock-edit-isAdd" type="radio" name="stockEditIsAdd" id="DecreaseEdit" value="false" @(!Model.IsAdd ? "checked" : "")>
            <label class="form-check-label" for="DecreaseEdit">減少</label>
        </div>
    </div>


    <div class="mb-2">
        <label>異動數量</label>
        <input type="number" class="form-control stock-edit-changeQty" name="ChangeQty" value="@Model.ChangeQty" data-max="@Model.MaxStockQty" min="0" />
        <small class="text-muted stock-edit-predicted">
            最大可庫存量: <span class="stock-edit-maxAllowed">@Model.MaxStockQty</span> /
            預計庫存: <span class="stock-edit-predictedQty">@Model.CurrentQty</span>
        </small>
    </div>


    <div class="mb-2">
        <label>備註</label>
        <textarea class="form-control stock-edit-remark" name="Remark">@Model.Remark</textarea>
    </div>

    <div class="text-end mt-3">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
        <button type="button" class="btn btn-primary stock-edit-saveBtn">儲存</button>
    </div>
</form>
