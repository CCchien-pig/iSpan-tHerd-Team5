<template>
  <div class="site-promo-banner py-2">
    <div class="marquee">
      <div
        class="marquee-content"
        :key="currentIndex"
      >
        <strong>{{ promoList[currentIndex].title }}</strong>
        <span class="ms-3">{{ promoList[currentIndex].description }}</span>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'SitePromoBanner',
  data() {
    return {
      currentIndex: 0, // ç›®å‰é¡¯ç¤ºç¬¬å¹¾ç­†å…§å®¹
      promoList: [
        { title: '"å®šæœŸè‡ªå‹•é€è²¨äº«å„ªæƒ "ç‰¹åƒ¹å“', description: 'é¦–æ¬¡è¨‚è³¼å¯äº«20%æˆ–æ›´å¤šæŠ˜æ‰£ï¼Œå¾ŒçºŒè¨‚å–®å‡äº«10%æŠ˜æ‰£ã€‚' },
        { title: 'ğŸ® tHerd æœƒå“¡ç¨äº«', description: 'å…¨é¤¨æ¶ˆè²»æ»¿ NT$2,000 å…é‹è²»' },
        { title: 'ğŸ’¥ æœ¬é€±é™æ™‚å„ªæƒ ', description: 'è²·ä¸‰é€ä¸€ï¼Œæ•¸é‡æœ‰é™å”®å®Œç‚ºæ­¢' },
      ],
    };
  },
  mounted() {
    // æ¯ 8 ç§’æ›ä¸‹ä¸€ç­†
    this.startRotation();
  },
  beforeUnmount() {
    clearInterval(this.timer);
  },
  methods: {
    startRotation() {
      this.timer = setInterval(() => {
        this.currentIndex = (this.currentIndex + 1) % this.promoList.length;
      }, 25000); // é€™å€‹æ™‚é–“è¦è·Ÿå‹•ç•«æ™‚é–“å°æ‡‰
    },
  },
};
</script>

<style scoped>
.site-promo-banner {
  background: linear-gradient(135deg, #17a2b8, #20c997);
  color: white;
  overflow: hidden;
}

.marquee {
  white-space: nowrap;
  overflow: hidden;
  box-sizing: border-box;
}

.marquee-content {
  display: inline-block;
  padding-left: 100%;
  animation: marquee 25s linear forwards;
  /* forwards ä»£è¡¨æ’­å®Œå°±åœåœ¨å°¾å·´ï¼Œç­‰ä¸‹å€‹å…§å®¹ */
}

.marquee-content:hover {
  animation-play-state: paused;
}

@keyframes marquee {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}
</style>
